var form=document.querySelector(".popup-form"),popupButton=document.getElementById("popup-open"),popupWindow=document.getElementById("popup-search"),dateIn=document.getElementById("date-in"),dateOut=document.getElementById("date-out"),countOld=document.getElementById("old"),countChildren=document.getElementById("children"),countButtons=document.querySelectorAll(".count-btn");popupButton.addEventListener("click",function(){popupWindow.classList.toggle("popup-search--active")}),form.addEventListener("click",function(e){dateIn.value&&countOld.value&&countChildren.value?dateOut.value||(e.preventDefault(),popupWindow.classList.remove("popup--error"),popupWindow.offsetWidth,popupWindow.classList.add("popup--error"),dateOut.focus()):(e.preventDefault(),popupWindow.classList.remove("popup--error"),popupWindow.offsetWidth,popupWindow.classList.add("popup--error"),dateIn.focus())}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupWindow.classList.contains("popup-search--active")&&(e.preventDefault(),popupWindow.classList.remove("popup-search--active"),popupWindow.classList.remove("popup--error"))}),countButtons[0].addEventListener("click",function(){0<countOld.value&&countOld.value--}),countButtons[1].addEventListener("click",function(){0<=countOld.value&&countOld.value++}),countButtons[2].addEventListener("click",function(){0<countChildren.value&&countChildren.value--}),countButtons[3].addEventListener("click",function(){0<=countChildren.value&&countChildren.value++});